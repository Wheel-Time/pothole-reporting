{% extends 'base.html' %}
{% block title %}Home{% endblock title %}

{% block head_static %}
  {% load static %}
{% endblock head_static %}

{% block head_css_page %}
  <link rel="stylesheet" href="{% static 'pothole_reporting/css/main.css' %}"/>
  <link rel="stylesheet" href="{% static 'pothole_reporting/css/index.css' %}"/>
  <link rel="stylesheet" href="{% static 'pothole_reporting/css/map.css' %}"/>
{% endblock head_css_page %}

{% block content %}
  <div id="map"></div>
{% endblock content %}

{% block footer_content %}
{% endblock footer_content %}

{% block footer_javascript_page %}
  <script src="{% static 'pothole_reporting/js/Map.js' %}"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap"
    async
    defer
  ></script>
  <script type="text/javascript">
    function test(test) {
      // console.log(map.data.getFeatureById(activeId).getProperty("id"));
      // console.log(activeId);
      $.ajax({
        type: "POST",
        url: "{% url 'add-pothole-ledger-entry' %}",
        data: {
          csrfmiddlewaretoken: '{{ csrf_token }}',
          pothole_id: activeId,
          user_id: 1,
          state: 5
        },   /* Passing the text data */
        success:  function(response){
          console.log(response);
        }
      });
    }
  </script>
{% endblock footer_javascript_page %}
